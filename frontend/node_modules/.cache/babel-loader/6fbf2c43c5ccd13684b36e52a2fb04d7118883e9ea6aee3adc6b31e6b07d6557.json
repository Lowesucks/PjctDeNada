{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\anzip\\\\OneDrive\\\\Documentos\\\\Pjarvis\\\\Code\\\\frontend\\\\src\\\\components\\\\MapaBarberias.js\",\n  _s = $RefreshSig$();\nimport React, { useCallback, useMemo } from 'react';\nimport { GoogleMap, useJsApiLoader, AdvancedMarker } from '@react-google-maps/api';\nimport '../config/suppressWarnings'; // Suprimir advertencias de deprecación\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst containerStyle = {\n  width: '100%',\n  height: '100%'\n};\nconst defaultCenter = {\n  lat: 19.432608,\n  lng: -99.133209\n};\nfunction MapaBarberias({\n  barberias,\n  onBarberiaSelect,\n  userLocation,\n  center,\n  zoom,\n  onMapDoubleClick,\n  mapStyle,\n  iconConfig\n}) {\n  _s();\n  const {\n    isLoaded,\n    loadError\n  } = useJsApiLoader({\n    id: 'google-map-script',\n    googleMapsApiKey: process.env.REACT_APP_GOOGLE_MAPS_API_KEY,\n    libraries: ['marker']\n  });\n  const mapCenter = center && center.lat && center.lng ? center : defaultCenter;\n  const handleMarkerClick = useCallback(barberia => {\n    if (onBarberiaSelect) {\n      onBarberiaSelect(barberia);\n    }\n  }, [onBarberiaSelect]);\n\n  // Crear marcadores personalizados para las barberías\n  const barberiaMarkers = useMemo(() => {\n    if (!isLoaded || !barberias) return [];\n    return barberias.map(barberia => {\n      const lat = Number(barberia.lat);\n      const lng = Number(barberia.lng);\n\n      // Solo crear marcador si ambos son números válidos\n      if (isNaN(lat) || isNaN(lng)) {\n        console.warn(\"Barbería con lat/lng inválido:\", barberia);\n        return null;\n      }\n\n      // Crear elemento HTML personalizado para el marcador\n      const markerElement = document.createElement('div');\n      markerElement.innerHTML = `\n        <div style=\"\n          background: white;\n          border: 2px solid #4285F4;\n          border-radius: 50%;\n          width: 20px;\n          height: 20px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          box-shadow: 0 2px 6px rgba(0,0,0,0.3);\n          cursor: pointer;\n        \">\n          <div style=\"\n            background: #4285F4;\n            border-radius: 50%;\n            width: 8px;\n            height: 8px;\n          \"></div>\n        </div>\n      `;\n      return {\n        id: barberia.id,\n        position: {\n          lat,\n          lng\n        },\n        title: barberia.nombre,\n        element: markerElement,\n        barberia: barberia\n      };\n    }).filter(Boolean);\n  }, [isLoaded, barberias]);\n\n  // Crear marcador para la ubicación del usuario\n  const userMarker = useMemo(() => {\n    if (!isLoaded || !userLocation) return null;\n    const markerElement = document.createElement('div');\n    markerElement.innerHTML = `\n      <div style=\"\n        background: #4285F4;\n        border: 2px solid white;\n        border-radius: 50%;\n        width: 16px;\n        height: 16px;\n        box-shadow: 0 2px 6px rgba(0,0,0,0.3);\n      \"></div>\n    `;\n    return {\n      position: userLocation,\n      title: \"Tu Ubicación\",\n      element: markerElement\n    };\n  }, [isLoaded, userLocation]);\n  if (loadError) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Error al cargar el mapa. Aseg\\xFArate de que la clave de API sea correcta.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 12\n    }, this);\n  }\n  return isLoaded ? /*#__PURE__*/_jsxDEV(GoogleMap, {\n    mapContainerStyle: containerStyle,\n    center: mapCenter,\n    zoom: zoom || 13,\n    onDblClick: onMapDoubleClick,\n    options: {\n      styles: mapStyle,\n      disableDoubleClickZoom: true,\n      fullscreenControl: false,\n      streetViewControl: false,\n      mapTypeControl: false\n    },\n    children: [userMarker && /*#__PURE__*/_jsxDEV(AdvancedMarker, {\n      position: userMarker.position,\n      title: userMarker.title,\n      content: userMarker.element\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 9\n    }, this), barberiaMarkers.map(marker => /*#__PURE__*/_jsxDEV(AdvancedMarker, {\n      position: marker.position,\n      title: marker.title,\n      content: marker.element,\n      onClick: () => handleMarkerClick(marker.barberia)\n    }, marker.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 106,\n    columnNumber: 5\n  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Cargando mapa...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 140,\n    columnNumber: 5\n  }, this);\n}\n_s(MapaBarberias, \"hJEeTu+2nCgZnOBp7HePVaFRWUE=\", false, function () {\n  return [useJsApiLoader];\n});\n_c = MapaBarberias;\nexport default _c2 = /*#__PURE__*/React.memo(MapaBarberias);\nvar _c, _c2;\n$RefreshReg$(_c, \"MapaBarberias\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"names":["React","useCallback","useMemo","GoogleMap","useJsApiLoader","AdvancedMarker","jsxDEV","_jsxDEV","containerStyle","width","height","defaultCenter","lat","lng","MapaBarberias","barberias","onBarberiaSelect","userLocation","center","zoom","onMapDoubleClick","mapStyle","iconConfig","_s","isLoaded","loadError","id","googleMapsApiKey","process","env","REACT_APP_GOOGLE_MAPS_API_KEY","libraries","mapCenter","handleMarkerClick","barberia","barberiaMarkers","map","Number","isNaN","console","warn","markerElement","document","createElement","innerHTML","position","title","nombre","element","filter","Boolean","userMarker","children","fileName","_jsxFileName","lineNumber","columnNumber","mapContainerStyle","onDblClick","options","styles","disableDoubleClickZoom","fullscreenControl","streetViewControl","mapTypeControl","content","marker","onClick","_c","_c2","memo","$RefreshReg$"],"sources":["C:/Users/anzip/OneDrive/Documentos/Pjarvis/Code/frontend/src/components/MapaBarberias.js"],"sourcesContent":["import React, { useCallback, useMemo } from 'react';\r\nimport { GoogleMap, useJsApiLoader, AdvancedMarker } from '@react-google-maps/api';\r\nimport '../config/suppressWarnings'; // Suprimir advertencias de deprecación\r\n\r\nconst containerStyle = {\r\n  width: '100%',\r\n  height: '100%',\r\n};\r\n\r\nconst defaultCenter = {\r\n  lat: 19.432608,\r\n  lng: -99.133209,\r\n};\r\n\r\nfunction MapaBarberias({ barberias, onBarberiaSelect, userLocation, center, zoom, onMapDoubleClick, mapStyle, iconConfig }) {\r\n  const { isLoaded, loadError } = useJsApiLoader({\r\n    id: 'google-map-script',\r\n    googleMapsApiKey: process.env.REACT_APP_GOOGLE_MAPS_API_KEY,\r\n    libraries: ['marker']\r\n  });\r\n\r\n  const mapCenter = center && center.lat && center.lng ? center : defaultCenter;\r\n\r\n  const handleMarkerClick = useCallback((barberia) => {\r\n    if (onBarberiaSelect) {\r\n      onBarberiaSelect(barberia);\r\n    }\r\n  }, [onBarberiaSelect]);\r\n\r\n  // Crear marcadores personalizados para las barberías\r\n  const barberiaMarkers = useMemo(() => {\r\n    if (!isLoaded || !barberias) return [];\r\n    \r\n    return barberias.map((barberia) => {\r\n      const lat = Number(barberia.lat);\r\n      const lng = Number(barberia.lng);\r\n\r\n      // Solo crear marcador si ambos son números válidos\r\n      if (isNaN(lat) || isNaN(lng)) {\r\n        console.warn(\"Barbería con lat/lng inválido:\", barberia);\r\n        return null;\r\n      }\r\n\r\n      // Crear elemento HTML personalizado para el marcador\r\n      const markerElement = document.createElement('div');\r\n      markerElement.innerHTML = `\r\n        <div style=\"\r\n          background: white;\r\n          border: 2px solid #4285F4;\r\n          border-radius: 50%;\r\n          width: 20px;\r\n          height: 20px;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          box-shadow: 0 2px 6px rgba(0,0,0,0.3);\r\n          cursor: pointer;\r\n        \">\r\n          <div style=\"\r\n            background: #4285F4;\r\n            border-radius: 50%;\r\n            width: 8px;\r\n            height: 8px;\r\n          \"></div>\r\n        </div>\r\n      `;\r\n\r\n      return {\r\n        id: barberia.id,\r\n        position: { lat, lng },\r\n        title: barberia.nombre,\r\n        element: markerElement,\r\n        barberia: barberia\r\n      };\r\n    }).filter(Boolean);\r\n  }, [isLoaded, barberias]);\r\n\r\n  // Crear marcador para la ubicación del usuario\r\n  const userMarker = useMemo(() => {\r\n    if (!isLoaded || !userLocation) return null;\r\n\r\n    const markerElement = document.createElement('div');\r\n    markerElement.innerHTML = `\r\n      <div style=\"\r\n        background: #4285F4;\r\n        border: 2px solid white;\r\n        border-radius: 50%;\r\n        width: 16px;\r\n        height: 16px;\r\n        box-shadow: 0 2px 6px rgba(0,0,0,0.3);\r\n      \"></div>\r\n    `;\r\n\r\n    return {\r\n      position: userLocation,\r\n      title: \"Tu Ubicación\",\r\n      element: markerElement\r\n    };\r\n  }, [isLoaded, userLocation]);\r\n\r\n  if (loadError) {\r\n    return <div>Error al cargar el mapa. Asegúrate de que la clave de API sea correcta.</div>;\r\n  }\r\n\r\n  return isLoaded ? (\r\n    <GoogleMap\r\n      mapContainerStyle={containerStyle}\r\n      center={mapCenter}\r\n      zoom={zoom || 13}\r\n      onDblClick={onMapDoubleClick}\r\n      options={{\r\n        styles: mapStyle,\r\n        disableDoubleClickZoom: true,\r\n        fullscreenControl: false,\r\n        streetViewControl: false,\r\n        mapTypeControl: false,\r\n      }}\r\n    >\r\n      {/* Marcador para la ubicación del usuario */}\r\n      {userMarker && (\r\n        <AdvancedMarker\r\n          position={userMarker.position}\r\n          title={userMarker.title}\r\n          content={userMarker.element}\r\n        />\r\n      )}\r\n\r\n      {/* Marcadores para las barberías */}\r\n      {barberiaMarkers.map((marker) => (\r\n        <AdvancedMarker\r\n          key={marker.id}\r\n          position={marker.position}\r\n          title={marker.title}\r\n          content={marker.element}\r\n          onClick={() => handleMarkerClick(marker.barberia)}\r\n        />\r\n      ))}\r\n    </GoogleMap>\r\n  ) : (\r\n    <div>Cargando mapa...</div>\r\n  );\r\n}\r\n\r\nexport default React.memo(MapaBarberias); "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}