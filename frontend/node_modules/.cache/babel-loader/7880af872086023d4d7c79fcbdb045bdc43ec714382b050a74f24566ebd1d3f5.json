{"ast":null,"code":"/**\r\n * Utilidades para controlar el scroll del body y prevenir scroll accidental\r\n */\n\nlet scrollY = 0;\n\n/**\r\n * Bloquea el scroll del body\r\n */\nexport const lockBodyScroll = () => {\n  // Guardar la posición actual del scroll\n  scrollY = window.scrollY;\n\n  // Aplicar estilos para bloquear el scroll\n  document.body.style.overflow = 'hidden';\n  document.body.style.position = 'fixed';\n  document.body.style.width = '100%';\n  document.body.style.top = `-${scrollY}px`;\n  document.body.style.left = '0';\n  document.body.style.right = '0';\n\n  // Agregar clase CSS para estilos adicionales\n  document.body.classList.add('sheet-open');\n\n  // Prevenir scroll en iOS\n  document.body.style.webkitOverflowScrolling = 'auto';\n  console.log('🔒 Scroll del body bloqueado');\n};\n\n/**\r\n * Desbloquea el scroll del body\r\n */\nexport const unlockBodyScroll = () => {\n  // Remover estilos de bloqueo\n  document.body.style.overflow = '';\n  document.body.style.position = '';\n  document.body.style.width = '';\n  document.body.style.top = '';\n  document.body.style.left = '';\n  document.body.style.right = '';\n  document.body.style.webkitOverflowScrolling = '';\n\n  // Remover clase CSS\n  document.body.classList.remove('sheet-open');\n\n  // Restaurar la posición del scroll\n  window.scrollTo(0, scrollY);\n  console.log('🔓 Scroll del body desbloqueado');\n};\n\n/**\r\n * Verifica si el scroll está bloqueado\r\n */\nexport const isScrollLocked = () => {\n  return document.body.classList.contains('sheet-open');\n};\n\n/**\r\n * Maneja el scroll de manera segura para dispositivos móviles\r\n */\nexport const handleSafeScroll = (element, callback) => {\n  let isScrolling = false;\n  let startY = 0;\n  let currentY = 0;\n  const handleTouchStart = e => {\n    startY = e.touches[0].clientY;\n    isScrolling = false;\n  };\n  const handleTouchMove = e => {\n    if (!isScrolling) {\n      currentY = e.touches[0].clientY;\n      const deltaY = Math.abs(currentY - startY);\n\n      // Si el movimiento es principalmente vertical, permitir scroll\n      if (deltaY > 10) {\n        isScrolling = true;\n      }\n    }\n  };\n  const handleTouchEnd = () => {\n    if (isScrolling && callback) {\n      callback();\n    }\n    isScrolling = false;\n  };\n  element.addEventListener('touchstart', handleTouchStart, {\n    passive: true\n  });\n  element.addEventListener('touchmove', handleTouchMove, {\n    passive: true\n  });\n  element.addEventListener('touchend', handleTouchEnd, {\n    passive: true\n  });\n\n  // Función de limpieza\n  return () => {\n    element.removeEventListener('touchstart', handleTouchStart);\n    element.removeEventListener('touchmove', handleTouchMove);\n    element.removeEventListener('touchend', handleTouchEnd);\n  };\n};\n\n/**\r\n * Configura el overscroll behavior para prevenir scroll no deseado\r\n */\nexport const setupOverscrollBehavior = () => {\n  // Aplicar overscroll-behavior a elementos clave\n  const elements = document.querySelectorAll('.bottom-sheet-mobile, .sheet-content, .results-list-mobile');\n  elements.forEach(element => {\n    element.style.overscrollBehavior = 'contain';\n    element.style.webkitOverflowScrolling = 'touch';\n  });\n  console.log('📱 Overscroll behavior configurado');\n};\n\n/**\r\n * Prevenir scroll en el mapa cuando el sheet está abierto\r\n */\nexport const preventMapScroll = mapContainer => {\n  if (!mapContainer) return;\n  const preventScroll = e => {\n    e.preventDefault();\n    e.stopPropagation();\n  };\n  mapContainer.addEventListener('touchmove', preventScroll, {\n    passive: false\n  });\n  mapContainer.addEventListener('wheel', preventScroll, {\n    passive: false\n  });\n  return () => {\n    mapContainer.removeEventListener('touchmove', preventScroll);\n    mapContainer.removeEventListener('wheel', preventScroll);\n  };\n};\n\n/**\r\n * Restaurar scroll en el mapa cuando el sheet se cierra\r\n */\nexport const restoreMapScroll = mapContainer => {\n  if (!mapContainer) return;\n\n  // Remover listeners de prevención de scroll\n  const preventScroll = e => {\n    e.preventDefault();\n    e.stopPropagation();\n  };\n  mapContainer.removeEventListener('touchmove', preventScroll);\n  mapContainer.removeEventListener('wheel', preventScroll);\n};\n\n/**\r\n * Configuraciones específicas para iOS\r\n */\nexport const setupIOSScrollBehavior = () => {\n  // Configuraciones específicas para Safari en iOS\n  if (/iPad|iPhone|iPod/.test(navigator.userAgent)) {\n    document.body.style.webkitOverflowScrolling = 'touch';\n\n    // Prevenir zoom en inputs\n    const inputs = document.querySelectorAll('input, textarea, select');\n    inputs.forEach(input => {\n      input.style.fontSize = '16px'; // Evita zoom en iOS\n    });\n    console.log('🍎 Configuraciones específicas de iOS aplicadas');\n  }\n};\n\n/**\r\n * Configuraciones específicas para Android\r\n */\nexport const setupAndroidScrollBehavior = () => {\n  // Configuraciones específicas para Android\n  if (/Android/.test(navigator.userAgent)) {\n    // Mejorar el scroll táctil en Android\n    document.body.style.webkitOverflowScrolling = 'touch';\n    console.log('🤖 Configuraciones específicas de Android aplicadas');\n  }\n};\n\n/**\r\n * Inicializa todas las configuraciones de scroll\r\n */\nexport const initScrollControl = () => {\n  setupOverscrollBehavior();\n  setupIOSScrollBehavior();\n  setupAndroidScrollBehavior();\n  console.log('🎯 Control de scroll inicializado');\n};","map":{"version":3,"names":["scrollY","lockBodyScroll","window","document","body","style","overflow","position","width","top","left","right","classList","add","webkitOverflowScrolling","console","log","unlockBodyScroll","remove","scrollTo","isScrollLocked","contains","handleSafeScroll","element","callback","isScrolling","startY","currentY","handleTouchStart","e","touches","clientY","handleTouchMove","deltaY","Math","abs","handleTouchEnd","addEventListener","passive","removeEventListener","setupOverscrollBehavior","elements","querySelectorAll","forEach","overscrollBehavior","preventMapScroll","mapContainer","preventScroll","preventDefault","stopPropagation","restoreMapScroll","setupIOSScrollBehavior","test","navigator","userAgent","inputs","input","fontSize","setupAndroidScrollBehavior","initScrollControl"],"sources":["C:/Users/anzip/OneDrive/Documentos/Pjarvis/Code/frontend/src/utils/scrollControl.js"],"sourcesContent":["/**\r\n * Utilidades para controlar el scroll del body y prevenir scroll accidental\r\n */\r\n\r\nlet scrollY = 0;\r\n\r\n/**\r\n * Bloquea el scroll del body\r\n */\r\nexport const lockBodyScroll = () => {\r\n  // Guardar la posición actual del scroll\r\n  scrollY = window.scrollY;\r\n  \r\n  // Aplicar estilos para bloquear el scroll\r\n  document.body.style.overflow = 'hidden';\r\n  document.body.style.position = 'fixed';\r\n  document.body.style.width = '100%';\r\n  document.body.style.top = `-${scrollY}px`;\r\n  document.body.style.left = '0';\r\n  document.body.style.right = '0';\r\n  \r\n  // Agregar clase CSS para estilos adicionales\r\n  document.body.classList.add('sheet-open');\r\n  \r\n  // Prevenir scroll en iOS\r\n  document.body.style.webkitOverflowScrolling = 'auto';\r\n  \r\n  console.log('🔒 Scroll del body bloqueado');\r\n};\r\n\r\n/**\r\n * Desbloquea el scroll del body\r\n */\r\nexport const unlockBodyScroll = () => {\r\n  // Remover estilos de bloqueo\r\n  document.body.style.overflow = '';\r\n  document.body.style.position = '';\r\n  document.body.style.width = '';\r\n  document.body.style.top = '';\r\n  document.body.style.left = '';\r\n  document.body.style.right = '';\r\n  document.body.style.webkitOverflowScrolling = '';\r\n  \r\n  // Remover clase CSS\r\n  document.body.classList.remove('sheet-open');\r\n  \r\n  // Restaurar la posición del scroll\r\n  window.scrollTo(0, scrollY);\r\n  \r\n  console.log('🔓 Scroll del body desbloqueado');\r\n};\r\n\r\n/**\r\n * Verifica si el scroll está bloqueado\r\n */\r\nexport const isScrollLocked = () => {\r\n  return document.body.classList.contains('sheet-open');\r\n};\r\n\r\n/**\r\n * Maneja el scroll de manera segura para dispositivos móviles\r\n */\r\nexport const handleSafeScroll = (element, callback) => {\r\n  let isScrolling = false;\r\n  let startY = 0;\r\n  let currentY = 0;\r\n  \r\n  const handleTouchStart = (e) => {\r\n    startY = e.touches[0].clientY;\r\n    isScrolling = false;\r\n  };\r\n  \r\n  const handleTouchMove = (e) => {\r\n    if (!isScrolling) {\r\n      currentY = e.touches[0].clientY;\r\n      const deltaY = Math.abs(currentY - startY);\r\n      \r\n      // Si el movimiento es principalmente vertical, permitir scroll\r\n      if (deltaY > 10) {\r\n        isScrolling = true;\r\n      }\r\n    }\r\n  };\r\n  \r\n  const handleTouchEnd = () => {\r\n    if (isScrolling && callback) {\r\n      callback();\r\n    }\r\n    isScrolling = false;\r\n  };\r\n  \r\n  element.addEventListener('touchstart', handleTouchStart, { passive: true });\r\n  element.addEventListener('touchmove', handleTouchMove, { passive: true });\r\n  element.addEventListener('touchend', handleTouchEnd, { passive: true });\r\n  \r\n  // Función de limpieza\r\n  return () => {\r\n    element.removeEventListener('touchstart', handleTouchStart);\r\n    element.removeEventListener('touchmove', handleTouchMove);\r\n    element.removeEventListener('touchend', handleTouchEnd);\r\n  };\r\n};\r\n\r\n/**\r\n * Configura el overscroll behavior para prevenir scroll no deseado\r\n */\r\nexport const setupOverscrollBehavior = () => {\r\n  // Aplicar overscroll-behavior a elementos clave\r\n  const elements = document.querySelectorAll('.bottom-sheet-mobile, .sheet-content, .results-list-mobile');\r\n  \r\n  elements.forEach(element => {\r\n    element.style.overscrollBehavior = 'contain';\r\n    element.style.webkitOverflowScrolling = 'touch';\r\n  });\r\n  \r\n  console.log('📱 Overscroll behavior configurado');\r\n};\r\n\r\n/**\r\n * Prevenir scroll en el mapa cuando el sheet está abierto\r\n */\r\nexport const preventMapScroll = (mapContainer) => {\r\n  if (!mapContainer) return;\r\n  \r\n  const preventScroll = (e) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n  };\r\n  \r\n  mapContainer.addEventListener('touchmove', preventScroll, { passive: false });\r\n  mapContainer.addEventListener('wheel', preventScroll, { passive: false });\r\n  \r\n  return () => {\r\n    mapContainer.removeEventListener('touchmove', preventScroll);\r\n    mapContainer.removeEventListener('wheel', preventScroll);\r\n  };\r\n};\r\n\r\n/**\r\n * Restaurar scroll en el mapa cuando el sheet se cierra\r\n */\r\nexport const restoreMapScroll = (mapContainer) => {\r\n  if (!mapContainer) return;\r\n  \r\n  // Remover listeners de prevención de scroll\r\n  const preventScroll = (e) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n  };\r\n  \r\n  mapContainer.removeEventListener('touchmove', preventScroll);\r\n  mapContainer.removeEventListener('wheel', preventScroll);\r\n};\r\n\r\n/**\r\n * Configuraciones específicas para iOS\r\n */\r\nexport const setupIOSScrollBehavior = () => {\r\n  // Configuraciones específicas para Safari en iOS\r\n  if (/iPad|iPhone|iPod/.test(navigator.userAgent)) {\r\n    document.body.style.webkitOverflowScrolling = 'touch';\r\n    \r\n    // Prevenir zoom en inputs\r\n    const inputs = document.querySelectorAll('input, textarea, select');\r\n    inputs.forEach(input => {\r\n      input.style.fontSize = '16px'; // Evita zoom en iOS\r\n    });\r\n    \r\n    console.log('🍎 Configuraciones específicas de iOS aplicadas');\r\n  }\r\n};\r\n\r\n/**\r\n * Configuraciones específicas para Android\r\n */\r\nexport const setupAndroidScrollBehavior = () => {\r\n  // Configuraciones específicas para Android\r\n  if (/Android/.test(navigator.userAgent)) {\r\n    // Mejorar el scroll táctil en Android\r\n    document.body.style.webkitOverflowScrolling = 'touch';\r\n    \r\n    console.log('🤖 Configuraciones específicas de Android aplicadas');\r\n  }\r\n};\r\n\r\n/**\r\n * Inicializa todas las configuraciones de scroll\r\n */\r\nexport const initScrollControl = () => {\r\n  setupOverscrollBehavior();\r\n  setupIOSScrollBehavior();\r\n  setupAndroidScrollBehavior();\r\n  \r\n  console.log('🎯 Control de scroll inicializado');\r\n}; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}